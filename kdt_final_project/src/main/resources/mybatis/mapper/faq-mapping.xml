<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="FAQ.FAQDAO">

	<insert id="insertArticle" parameterType="faqdto">
		INSERT INTO board
		(title, contents, categories, writingtime, writer)
		VALUES (#{title},
		#{contents}, #{categories}, now(), #{writer})
	</insert>

	<!-- categories에 값이 있는 데이터만 조회 -->
	<select id="selectAllFAQs" resultType="faqdto"
		parameterType="string">
		SELECT *
		FROM board
		WHERE categories IS NOT NULL AND
		writer = #{writer}
	</select>

	<!-- <select id="getWriterById"> SELECT writer FROM board WHERE id = #{id} 
		</select> -->

	<delete id="deleteArticleById">
		DELETE FROM board
		WHERE categories IS NOT NULL AND
		id = #{id} <!-- AND writer 
			= #{writer}; -->
	</delete>

	<!-- categories에 값이 있는 모든 글 갯수를 카운트 -->
	<!-- <select id="getTotalFAQBoard" parameterType="int" resultType="int"> 
		SELECT COUNT(*) FROM board WHERE categories IS NOT NULL; </select> -->
	<update id="updateFAQ" parameterType="BoardDTO">
		UPDATE board
		SET title=#{title},
		contents=#{contents},
		categories=#{categories}
		WHERE
		id = #{id}
	</update>

	<select id="getBoardById2">
		SELECT title, contents, categories
		FROM board WHERE id = #{id};
	</select>


</mapper>






